{% extends "base.html" %}
{% block content %}
    <div>
        <p><strong>Типы прерываний процессора:</strong></p>
        <ol>
            <li><strong>Внутренние</strong>прерывания (генерируются при возникновении особых условий выполнения текущей операции, например деление DIV, если делитель равен нулю).</li>
            <li><strong>Немаскируемые внешние</strong> прерывания (обрабатываются процессором независимо от состояния флага разрешения прерываний IF).</li>
            <li><strong>Маскируемые внешние</strong> прерывания (например, прерывание от мыши, таймера, клавиатуры можно запретить или разрешить командами CLI, STI или сбросом - установкой флага IF).</li>
            <li><strong>Программно-вызываемые</strong> прерывания (в прямом смысле прерываниями не являются, поскольку представляют собой лишь специфический способ вызова процедур - не по адресу, а по номеру в таблице).</li>
        </ol>
    </div>

    <div>
        <p><strong>Два основных метода работы с внешними устройствами</strong></p>
        <ol>
            <li><strong>Поллинг</strong> – это синхронный опрос всех устройств.</li>
            <li><strong>Прерывание</strong> – асинхронный сигнал от устройства, сообщающий о необходимости внимания процессора к данному устройству.</li>
        </ol>
        <p>
            После получения запроса прерывания контроллер, если это прерывание в контроллере не замаскировано, и процессором не обслуживается прерывание более высокого приоритета, посылает в процессор сигнал запроса на прерывание - INT. Если процессор не выполняет обработки какого-либо прерывания с более низким приоритетом или если прерывание в процессоре не запрещено, то он входит в машинный цикл подтверждения прерывания - записывает в стек содержимое регистра флагов, сбрасывает разряд IF(Флаг разрешения прерываний), записывает в стек содержимое кодового сегмента (CS) и указателя команды (IP), затем выдает контроллеру два сигнала подтверждения прерывания INTА#.Первым сигналом в контроллере сбрасывается в "0" триггер соответствующего запроса прерывания в регистре IRR и устанавливается в "1" разряд регистра ISR, соответствующий уровню обслуживаемого прерывания. После получения второго сигнала INTА# контроллер (ведущий или ведомый) выдает на шину данных 8-разрядный код типа прерывания, который позволяет процессору обратиться к таблице векторов прерываний и далее перейти на программу-обработчик прерывания. После завершения этого действия программа обработки прерываний передает управление прерванной программе. Она
должна заново начать прерванный процесс в том же самом состоянии, в котором она находилась, когда произошло прерывание. Это значит, что прежнее состояние всех внутренних регистров должно быть восстановлено.
        </p>
        <p>
            Для решения проблем одновременного доступа нескольких устройств к шине нужно каждому устройству приписать определенный приоритет и использовать централизованный арбитраж для распределения приоритетов. Существует стандартный контроллер прерываний, который широко используется. В компьютерах IBM PC и последующих моделях применяется микросхема Intel 8259А.
        </p>
        <p><strong>Контекст</strong> - некоторая область данных, принадлежащих конкретной задаче. Сохранение и восстановление контекста как раз происходит в цикле обработки прерывания.</p>
    </div>
{% endblock %}